/*
* AUTO-GENERATED FILE - DO NOT MODIFY
*
* This SQL file was generated by a code generation tool. Any modifications
* made to this file may be overwritten by subsequent code generation
* processes and could lead to inconsistencies or errors in the application.
*
* For any required changes, please modify the source templates or the
* code generation tool's configurations and regenerate this file.
*
* WARNING: MODIFYING THIS FILE DIRECTLY CAN LEAD TO UNEXPECTED BEHAVIOR
* AND IS STRONGLY DISCOURAGED.
*/
drop type if exists deribit.private_edit_request_advanced cascade;

create type deribit.private_edit_request_advanced as enum (
    'implv',
    'usd'
);

drop type if exists deribit.private_edit_request cascade;

create type deribit.private_edit_request as (
    order_id text,
    amount double precision,
    price double precision,
    post_only boolean,
    reduce_only boolean,
    reject_post_only boolean,
    advanced deribit.private_edit_request_advanced,
    trigger_price double precision,
    trigger_offset double precision,
    mmp boolean,
    valid_until bigint
);

comment on column deribit.private_edit_request.order_id is '(Required) The order id';
comment on column deribit.private_edit_request.amount is '(Required) It represents the requested order size. For perpetual and inverse futures the amount is in USD units. For linear futures it is underlying base currency coin. For options it is amount of corresponding cryptocurrency contracts, e.g., BTC or ETH';
comment on column deribit.private_edit_request.price is 'The order price in base currency. When editing an option order with advanced=usd, the field price should be the option price value in USD. When editing an option order with advanced=implv, the field price should be a value of implied volatility in percentages. For example, price=100, means implied volatility of 100%';
comment on column deribit.private_edit_request.post_only is 'If true, the order is considered post-only. If the new price would cause the order to be filled immediately (as taker), the price will be changed to be just below or above the spread (accordingly to the original order type). Only valid in combination with time_in_force="good_til_cancelled"';
comment on column deribit.private_edit_request.reduce_only is 'If true, the order is considered reduce-only which is intended to only reduce a current position';
comment on column deribit.private_edit_request.reject_post_only is 'If an order is considered post-only and this field is set to true then the order is put to order book unmodified or request is rejected. Only valid in combination with "post_only" set to true';
comment on column deribit.private_edit_request.advanced is 'Advanced option order type. If you have posted an advanced option order, it is necessary to re-supply this parameter when editing it (Only for options)';
comment on column deribit.private_edit_request.trigger_price is 'Trigger price, required for trigger orders only (Stop-loss or Take-profit orders)';
comment on column deribit.private_edit_request.trigger_offset is 'The maximum deviation from the price peak beyond which the order will be triggered';
comment on column deribit.private_edit_request.mmp is 'Order MMP flag, only for order_type ''limit''';
comment on column deribit.private_edit_request.valid_until is 'Timestamp, when provided server will start processing request in Matching Engine only before given timestamp, in other cases timed_out error will be responded. Remember that the given timestamp should be consistent with the server''s time, use /public/time method to obtain current server time.';
